@import "codemirror/theme/xq-light";
@import "./light-variables.scss";

// Global
$badge-bg:                 rgba($theme-base, 0.1);

// Sidebar
$sidebar-list-icons:       $theme-primary;

// Editor
$tabs-heading:             rgba($theme-base, 0.08);
$tab-link:                 darken($theme-bg, 4%);
$codemirror-hint-bg:       darken($theme-bg, 2%);

// Table Editing
$row-highlight:            darken($query-editor-bg, 3%);
$row-handle-selected: darken($query-editor-bg, 10%);
$row-add:                  #5ff3c0;
$row-delete:               #FC8A87;
$row-error:                #F9B8B7;

$cell-edited:              #EDDFA1;
$cell-error:               $row-error;
$cell-success:             $row-add;

// Statusbar
$editor-statusbar:         rgba($theme-base, 0.035);

@mixin cell-shadow {
  box-shadow: inset 1px 0 rgba(white, 0.4),
              inset 0 -1px rgba(white, 0.4);
}

// Tabulator
// -------------------------------
.tabulator-tableholder {
  .tabulator-table {
    .tabulator-row {
      &.tabulator-row-even,
      &:nth-child(odd) {
        &.inserted,
        &.inserted:hover {
          background: $row-add!important;
          --row-bg-color: #{$row-add};
          --row-hover-bg-color: rgba($theme-base, 0.05);
        }
        &.deleted,
        &.deleted:hover {
          background: $row-delete!important;
          --row-bg-color: #{$row-delete};
          --row-hover-bg-color: #{$row-delete};
        }
        &.edit-error {
          background: $row-error!important;
          --row-bg-color: #{$row-error};
        }
      }
      &.edit-error {
        background: $row-error !important;
      }
      .tabulator-cell {
        &.edited,
        &.edit-error,
        &.edit-success {
          @include cell-shadow;
        }
        &.edited {
          background: $cell-edited;
          --row-bg-color: #{$cell-edited};
          &:hover {
            background: darken($cell-edited, 5%);
            --row-hover-bg-color: darken($cell-edited, 5%);
          }
        }
        &.edit-error {
          background: $cell-error;
          &:hover {
            background: darken($cell-error, 5%);
          }
        }
        &.edit-success {
          background: $cell-success;
          &:hover {
            background: darken($cell-success, 5%);
          }
        }
        &.foreign-key-button {
          .material-icons {
            &:hover {
              color: $text-dark;
            }
          }
        }
        .null-value {
          color: $text-light;
        }
      }
    }
  }

}
.tabulator {

  .tabulator-loader {
    .tabulator-loader-msg {
      &.tabulator-loading {
        background-color: white;
      }

    }
  }

  .tabulator-header {
    .tabulator-col {
      &.foreign-key {
        &:before {
          color: darken($brand-primary, 6%);
        }
      }
      .badge {
        color: $text-light;
      }
    }
  }
}
.tabulator-row {
  &:nth-child(odd) {
    background: rgba($theme-base, 0.025);
  }
}

// CodeMirror
// ----------------------------------
.CodeMirror-hints {
  background: darken($theme-bg, 5%)!important;
  li {
    &.CodeMirror-hint-active {
      background: $brand-info;
      color: white;
    }
  }
}

.cm-s-monokai {
  span {
    .cm-string {
      color: $brand-success;
    }
  }
  .CodeMirror-line {
    .cm-number {
      color: $brand-warning;
    }
  }
}


.cm-s-monokai {
  font-weight: 500;
  span.cm-keyword {
    color: $brand-pink;
  }
  span.cm-variable-2 {
    color: $brand-secondary;
  }
  div.CodeMirror-selected {
    background: rgba($theme-secondary, 0.25);
  }
  .CodeMirror-linenumber {
    color: rgba($theme-base, 0.25);
  }
  .CodeMirror-line .cm-number {
    color: $brand-warning;
  }
  .CodeMirror-line .cm-string {
    color: darken($brand-success, 20%);
  }
  .CodeMirror-cursor {
    border-color: $text-dark;
  }
  span.cm-bracket {
    color: $text;
  }
}

